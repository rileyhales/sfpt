<!--  manage_geoservers.html -->
<!--  streamflow_prediction_tool -->
<!--  Created by Alan D. Snow, Curtis Rae, and Shawn Crawley. -->
<!--  Copyright Â© 2015-2016 Alan D Snow, Curtis Rae, and Shawn Crawley. All rights reserved. -->
<!--  License: BSD 3-Clause -->

{% extends "sfpt/base.html" %}

{% load staticfiles %}

{% load tethys_gizmos %}

{% block import_gizmos %}
  {% import_gizmo_dependency datatable_view %}
{% endblock %}

{% block app_content %}
  <div id="message" class="alert alert-danger hidden" role="alert"></div>
  <h3>Manage Geoservers</h3>
  <div id="manage_geoservers_table">
    {% if geoservers %}
      <table id="geoserver_table" class="table table-striped">
        <thead>
        <tr>
          <th>Update</th>
          <th>Delete</th>
          <th>ID</th>
          <th>Name</th>
          <th>URL</th>
          <th>Username</th>
          <th>Password</th>
        </tr>
        </thead>
        <tbody>
        {% for geoserver in geoservers %}
          <tr>
            <td class="table-button">
              <div class=" btn-group "><a name="submit-update-geoserver" class="btn btn-warning submit-update-geoserver"
                                          role="button">
                <span class="glyphicon glyphicon-floppy-disk"></span> Update </a>
              </div>
            </td>
            <td class="table-button">
              <div class=" btn-group "><a name="submit-delete-geoserver" class="btn btn-danger submit-delete-geoserver"
                                          role="button">
                <span class="glyphicon glyphicon-remove"></span> Delete </a>
              </div>
            </td>
            <td class="geoserver-id">{{ geoserver.id }}</td>
            <td class="geoserver-name" contenteditable>{{ geoserver.name }}</td>
            <td class="geoserver-url" contenteditable>{{ geoserver.url }}</td>
            <td class="geoserver-username" contenteditable>{{ geoserver.username }}</td>
            <td class="geoserver-password">
              <div class="form-group">
                <div class="input-group">
                  <input class="form-control geoserver-password-input" name="geoserver-password-input" type="password"
                         value="{{ geoserver.password }}" placeholder="e.g.: geoserver">
                  <div class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></div>
                </div>
                <p class="help-block hidden">No geoserver password specified.</p>
              </div>
            </td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>No geoservers to display. To add one, click <a href="../addgeoserver">here</a>.</p>
    {% endif %}
  </div>
{% endblock %}

{% block scripts %}
  {{ block.super }}
  <script src="{% static 'sfpt/js/manage_geoservers.js' %}" type="text/javascript"></script>
{% endblock %}