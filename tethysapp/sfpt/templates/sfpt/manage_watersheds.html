<!--  manage_watersheds.html -->
<!--  sfpt -->
<!--  Created by Alan D. Snow, Curtis Rae, and Shawn Crawley. -->
<!--  Copyright Â© 2015-2016 Alan D Snow, Curtis Rae, and Shawn Crawley. All rights reserved. -->
<!--  License: BSD 3-Clause -->

{% extends "sfpt/base.html" %}

{% load staticfiles %}

{% load tethys_gizmos %}

{% block import_gizmos %}
  {% import_gizmo_dependency datatable_view %}
{% endblock %}

{% block styles %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'sfpt/vendor/select2/v3.5.2/select2.css' %}" type="text/css">
  <link rel="stylesheet"
        href="{% static 'tethys_gizmos/vendor/bootstrap_switch/dist/css/bootstrap3/bootstrap-switch.min.css' %}"
        type="text/css">
{% endblock %}

{% block global_scripts %}
  {{ block.super }}
  <script src="{% static 'sfpt/vendor/select2/v3.5.2/select2.js' %}" type="text/javascript"></script>
  <script src="{% static 'tethys_gizmos/vendor/bootstrap_switch/dist/js/bootstrap-switch.min.js' %}"
          type="text/javascript"></script>
  <script src="{% static 'sfpt/vendor/select2/v3.5.2/select2.js' %}" type="text/javascript"></script>
{% endblock %}

{% block app_content %}
  <h3>Manage Watersheds</h3>
  <div id="main_message"></div>
  <div id="manage_watersheds_table">
    {% if watersheds %}
      <table id="watershed_table" class="table table-striped table-condensed">
        <thead>
        <tr>
          <th>Edit</th>
          <th>Delete</th>
          <th>Watershed Name</th>
          <th>Subbasin Name</th>
        </tr>
        </thead>
        <tbody>
        {% for watershed in watersheds %}
          <tr>
            <td class="table-button">
              <div class=" btn-group"><a name="submit-edit-watershed" class="btn btn-warning submit-edit-watershed"
                                         data-toggle="modal" data-target="#edit_watershed_modal" role="button">
                <span class="glyphicon glyphicon-pencil"></span> Edit </a>
              </div>
            </td>
            <td class="table-button">
              <div class=" btn-group"><a name="submit-delete-watershed" class="btn btn-danger submit-delete-watershed"
                                         role="button">
                <span class="glyphicon glyphicon-remove"></span> Delete </a>
              </div>
            </td>
            <td class="watershed-name" data-watershed_id="{{ watershed.id }}">{{ watershed.watershed_name }}</td>
            <td class="subbasin-name">{{ watershed.subbasin_name }}</td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>No watersheds to display. To add one, click <a href="../addwatershed">here</a>.</p>
    {% endif %}
  </div>
{% endblock %}

{% block after_app_content %}
  {% gizmo message_box edit_modal %}
{% endblock %}

{% block scripts %}
  {{ block.super }}
  <script src="{% static 'sfpt/js/manage_watersheds.js' %}" type="text/javascript"></script>
{% endblock %}